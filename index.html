<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="player.css">
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.js"></script>
    <link rel="stylesheet" href="media.css">
    <title>FocusTube - Best helper for teaching!</title>
    <meta name="referrer" content="origin">
    <link rel="shortcut icon" href="https://i.ibb.co/XfDmbCw3/4-removebg-preview.png" type="image/x-icon">
</head>

<body>
    <!-- FINAL FLOATING NOTES PANEL (Side Panel) -->
    <div id="notes-panel" class="notes-panel hidden">
        <div class="notes-header">
            <h3>Notes</h3>
            <div class="notes-controls">
                <button onclick="addTimestampToNote()"
                    title="Add Current Time to access the Video timing on which the Note is created."
                    class="timestamp-btn">
                    <span class="material-symbols-outlined">access_time</span>
                    Add Video Time
                </button>
                <button onclick="toggleNotesPanel()" class="close-notes-btn">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
        </div>

        <!-- Full Rich Toolbar -->
        <div class="rich-toolbar">
            <button onclick="format('bold')" title="Bold"><span
                    class="material-symbols-outlined">format_bold</span></button>
            <button onclick="format('italic')" title="Italic"><span
                    class="material-symbols-outlined">format_italic</span></button>
            <button onclick="format('underline')" title="Underline"><span
                    class="material-symbols-outlined">format_underlined</span></button>
            <button onclick="format('strikeThrough')" title="Strikethrough"><span
                    class="material-symbols-outlined">strikethrough_s</span></button>
            <button onclick="format('insertUnorderedList')" title="Bullet List"><span
                    class="material-symbols-outlined">format_list_bulleted</span></button>
            <button onclick="format('insertOrderedList')" title="Numbered List"><span
                    class="material-symbols-outlined">format_list_numbered</span></button>
            <button onclick="format('formatBlock', 'BLOCKQUOTE')" title="Quote"><span
                    class="material-symbols-outlined">format_quote</span></button>
            <button onclick="format('formatBlock', 'PRE')" title="Code"><span
                    class="material-symbols-outlined">code</span></button>
            <button onclick="addLink()" title="Link"><span class="material-symbols-outlined">link</span></button>
            <button onclick="format('unlink')" title="Unlink"><span
                    class="material-symbols-outlined">link_off</span></button>
            <button onclick="format('justifyLeft')" title="Left"><span
                    class="material-symbols-outlined">format_align_left</span></button>
            <button onclick="format('justifyCenter')" title="Center"><span
                    class="material-symbols-outlined">format_align_center</span></button>
            <button onclick="format('justifyRight')" title="Right"><span
                    class="material-symbols-outlined">format_align_right</span></button>
            <select onchange="format('fontSize', this.value); this.selectedIndex=0">
                <option value="">Size</option>
                <option value="1">8px</option>
                <option value="2">10px</option>
                <option value="3">13px</option>
                <option value="4">16px</option>
                <option value="5">24px</option>
                <option value="6">32px</option>
                <option value="7">48px</option>
            </select>
            <div class="colors" style="display: none;">
                <label for="color_sel" class="colors_labels">Color</label>
                <input type="color" id="color_sel" onchange="format('foreColor', this.value)" title="Text Color">
                <label for="Bg_color" class="colors_labels">BG Color</label>
                <input type="color" id="Bg_color" onchange="format('hiliteColor', this.value)" title="Highlight">
            </div>
        </div>

        <!-- New Note Editor -->
        <div id="note-editor" contenteditable="true" class="note-editor-area" placeholder="Start typing your notes...">
        </div>

        <!-- Save Button -->
        <div class="notes-footer">
            <button onclick="saveCurrentNote()" class="save-note-btn">Save Note</button>
        </div>

        <!-- Saved Notes List -->
        <div id="saved-notes-list" class="saved-notes-list"></div>
    </div>
    <div class="main-container">
        <header>
            <div class="logo_container">
                <img src="https://i.ibb.co/XfDmbCw3/4-removebg-preview.png" alt="" class="logo" loading="lazy">
                <h1><span>ocu</span>sTube</h1>
            </div>
            <div class="button_container">
                <a href="https://wa.me/923136137824" target="_blank">
                    <button>
                        Contact Us
                        <span class="material-symbols-outlined">
                            arrow_right
                        </span>
                    </button>
                </a>
                <a href="https://buymeacoffee.com/sahalashfaq" target="_blank">
                    <button>
                        <img src="https://i.ibb.co/DPLW0VPG/coffee.png" loading="lazy" alt="" class="coffee_logo">
                    </button>
                </a>
            </div>
        </header>
        <div class="player-container">
            <container class="top">
                <div class="top">
                    <div id="video-wrapper">
                        <div class="user-input-area" style="display:none;">
                            <input type="text" id="video-link" placeholder="your video url:">
                            <button id="save-video-btn">play

                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                                    width="24px" fill="#e8eaed">
                                    <path
                                        d="M440-320h80v-168l64 64 56-56-160-160-160 160 56 56 64-64v168Zm40 240q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                                </svg>
                            </button>

                        </div>
                        <div id="player" style="width: 100%; height: 390px; background: #000;"></div>
                        <div class="player-controls">
                            <div class="player-navigation">
                                <div class="feature-buttons">
                                    <button onclick="showVideoAnalytics()" title="See Video Analytics">
                                        <span class="material-symbols-outlined">analytics</span>
                                    </button>
                                    <!-- FINAL WORKING NOTES BUTTON -->
                                    <!-- Floating Notes Button in Player -->
                                    <button onclick="toggleNotesPanel()" class="floating-notes-btn"
                                        title="Open Notes Panel">
                                        <span class="material-symbols-outlined">notes</span>
                                        <span id="notes-count-badge" class="notes-badge hidden">0</span>
                                    </button>
                                    <div class="reaction-buttons">
                                        <button onclick="addVideoReaction('like')" title="Like">
                                            <span class="material-symbols-outlined">thumb_up</span>
                                        </button>
                                        <button onclick="addVideoReaction('dislike')" title="Dislike">
                                            <span class="material-symbols-outlined">thumb_down</span>
                                        </button>
                                    </div>
                                </div>
                                <button id="mark-complete-btn" class="action-btn">
                                    <span class="material-symbols-outlined">check_circle</span>
                                </button>
                                <button id="delete-video-btn" class="action-btn danger">
                                    <span class="material-symbols-outlined">delete</span>
                                </button>
                                <div class="nav-button-container">
                                    <button id="prev-video-btn" class="nav-btn">
                                        <span class="material-symbols-outlined">skip_previous</span>
                                    </button>
                                    <button id="next-video-btn" class="nav-btn">
                                        <span class="material-symbols-outlined">skip_next</span>
                                    </button>
                                </div>
                            </div>

                            <div class="player-settings-btn">
                                <button id="player-settings-toggle">
                                    <span class="material-symbols-outlined">settings</span>
                                </button>
                                <div class="player-settings-dropdown hidden">
                                    <button class="settings-option" onclick="showImportExportMenu()">
                                        <span class="material-symbols-outlined">import_export</span>
                                        Import/Export
                                    </button>
                                    <button class="settings-option disabled" disabled onclick="toggleDarkMode()">
                                        <span class="material-symbols-outlined">dark_mode</span>
                                        light Mode
                                    </button>
                                    <button class="settings-option" onclick="toggleAutoPlay()">
                                        <span class="material-symbols-outlined">play_circle</span>
                                        Auto-play
                                        <span class="status-indicator ON">ON</span>
                                    </button>
                                    <button class="settings-option" onclick="showPlaybackSpeedMenu()">
                                        <span class="material-symbols-outlined">speed</span>
                                        Play Speed
                                    </button>
                                    <button class="settings-option" onclick="showQualityMenu()">
                                        <span class="material-symbols-outlined">hd</span>
                                        Video Quality
                                    </button>
                                    <button class="settings-option" onclick="showSubtitleMenu()">
                                        <span class="material-symbols-outlined">subtitles</span>
                                        Subtitles
                                    </button>
                                    <button class="settings-option" onclick="showKeyboardShortcuts()">
                                        <span class="material-symbols-outlined">keyboard</span>
                                        Shortcuts
                                    </button>
                                    <button class="settings-option" onclick="showStatsForNerds()">
                                        <span class="material-symbols-outlined">monitor_heart</span>
                                        Stats for Nerds
                                    </button>
                                    <button class="settings-option" onclick="toggleMiniPlayer()">
                                        <span class="material-symbols-outlined">picture_in_picture_alt</span>
                                        Mini Player
                                        <span class="status-indicator OFF">OFF</span>
                                    </button>
                                    <button class="settings-option" onclick="showTheaterMode()">
                                        <span class="material-symbols-outlined">theaters</span>
                                        Theater
                                        <span class="status-indicator OFF">OFF</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div id="lable-input" class="user-input-area input2">
                            <input type="text" id="new-play-save-video-link"
                                placeholder="Enter YouTube video link or playlist">
                            <button id="new-play-save-video-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                                    width="24px" fill="#e8eaed">
                                    <path
                                        d="M440-320h80v-168l64 64 56-56-160-160-160 160 56 56 64-64v168Zm40 240q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                                </svg>
                            </button>
                        </div>
                        <!-- Add the second buttons-container here / -->
                    </div>
                    <section class="recently-played-section">
                        <div class="recently-played-header">
                            <h3>History</h3>
                            <button class="clear-recent-btn" onclick="clearRecentlyPlayed()">

                                <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"
                                    fill="#ffffff">
                                    <path
                                        d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z" />
                                </svg>
                            </button>
                        </div>
                        <div class="r-video">
                            <div id="recently-played-grid" class="recently-played-grid"></div>
                        </div>
                    </section>
                </div>
                <div class="bottom">
                    <div id="progress-container">
                        <div id="progress-bar"></div>
                        <div id="progress-text">0%</div>
                    </div>
                </div>

                <div class="player-button-container">
                    <button id="delete-all-btn">
                        <span class="material-symbols-outlined">delete</span>
                        Delete All Videos
                    </button>
                    <div class="filter-buttons">
                        <button id="show-all-btn" class="filter-btn active">
                            <span class="material-symbols-outlined">folder_open</span>
                            Playlist Videos</button>
                        <button id="show-single-btn" class="filter-btn">
                            <span class="material-symbols-outlined">folder</span>
                            Single Videos</button>
                    </div>
                </div>
                <!-- Add this where you want categories to appear -->
                <div id="playlist-edit-modal" class="playlist-edit-modal hidden">
                    <div class="playlist-edit-content">
                        <div class="playlist-edit-header">
                            <h3 id="playlist-edit-title">Edit Playlist</h3>
                            <button class="close-edit-modal">
                                <span class="material-symbols-outlined close-popup">close</span>
                            </button>
                        </div>
                        <div class="playlist-video-list" id="playlist-video-list">
                            <!-- Videos will be populated here -->
                        </div>
                        <!-- Update the playlist-edit-actions section -->
                        <div class="playlist-edit-actions">
                            <div>
                                <button id="merge-playlist-btn" class="primary-btn">
                                    <span class="material-symbols-outlined">merge</span>
                                </button>
                                <button id="unmerge-playlist-btn" class="primary-btn" disabled>
                                    <span class="material-symbols-outlined">unfold_more</span>
                                </button>
                                <button id="share-playlist-btn" style="display:none;" class="primary-btn">
                                    <span class="material-symbols-outlined">share</span>
                                </button>
                                <button id="delete-playlist-btn" class="danger-btn">
                                    <span class="material-symbols-outlined">delete</span>
                                </button>
                            </div>
                            <div>
                                <button id="cancel-playlist-edit" class="secondary-btn">
                                    Cancel
                                </button>
                                <button id="save-playlist-changes" class="primary-btn">
                                    Save Changes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </container>
            <hr>
            <container class="bottom">
                <section class="video-grid-section">
                    <div id="video-grid" class="video-grid swiper"></div>
                </section>
                <div id="pagination-controls"></div>
            </container>
        </div>
        <!-- <footer>
            <div class="logo-container">
                <h1>Mixify</h1>
            </div>
            <div class="right">
                <button>
                    <a href="https://mail.google.com/mail/?view=cm&fs=1&to=sahalashfqseo@gmail.com&su=Reporting+Bug"
                        target="_blank">
                        Report Bugs
                        <span class="material-symbols-outlined">error</span>
                    </a>
                </button>
                <button>
                    <a href="https://www.buymeacoffee.com/sahalashfaq">
                        <img src="https://i.ibb.co/DPLW0VPG/coffee.png" alt="" srcset="">
                    </a>
                </button>
            </div>
        </footer> -->
    </div>
    </div>
    <div class="toast-container"></div>
</body>
<script src="player.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>


</html>
